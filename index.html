<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title id="clientName">Jafry's Kitchen</title>


    <link href="css/styles.css" rel="stylesheet" type="text/css" />
    <link href="css/custom.css" rel="stylesheet" type="text/css" />

    <!-- Spotlight -->
    <link href="css/spotlight.min.css" rel="stylesheet" type="text/css" />

    <!-- Library CSS -->
    <link rel="stylesheet" href="lib/keyboard/keyboard.css" />
    <link type="text/css" href="lib/cropper/cropper.css" rel="stylesheet">


    <!-- Link all the VIEW files here -->
    <link rel="import" for="new-order" href="views/new-order.html">
    <link rel="import" for="live-orders" href="views/live-orders.html">
    <link rel="import" for="online-orders" href="views/online-orders.html">
    <link rel="import" for="settled-bills" href="views/settled-bills.html">
    <link rel="import" for="seating-status" href="views/seating-status.html">
    <link rel="import" for="reward-points" href="views/reward-points.html">
    <link rel="import" for="sales-summary" href="views/sales-summary.html">
    <link rel="import" for="manage-menu" href="views/manage-menu.html"> 
    <link rel="import" for="photos-manager" href="views/photos-manager.html">    
    <link rel="import" for="table-layout" href="views/table-layout.html">
    <link rel="import" for="bill-settings" href="views/bill-settings.html">
    <link rel="import" for="user-settings" href="views/user-settings.html">
    <link rel="import" for="app-data" href="views/app-data.html">
    <link rel="import" for="system-settings" href="views/system-settings.html">

  
</head>

<body class="skin-green sidebar-mini pos sidebar-collapse" id="mainAppBody">

    <!-- LOADER -->
    <!-- <div id="preloader"></div> -->

    <!-- FULL SCREEN LOADER -->
    <div id="fullScreenLoader" style="display: none"></div>


    <!-- SCREEN INACTIVITY : SCREEN SAVER -->
    <div id="inactivity" style="display: none">
        <div class="track">
          <div class="albumArt left">
            <img src="data/photos/brand/brand-square.jpg" style="width: 110px; border-radius: 5px">
        </div>
          <div class="trackInfo left">
            <h4 class="screensaverTitle">Zaitoon <tag id="inactivityBranchName"><b>Restaurants</b></tag></h4>
            <p class="screensaverSubTitle"><tag id="inactivityUserName">Not Logged In</tag></p>
            <p class="screensaverTimer">Active <tag id="inactivityTimeLapsed">sometime</tag> ago</p>
          </div>
        </div>
    </div> 

    <!-- SCREEN INACTIVITY : SCREEN LOCK -->
    <div id="inactivityLock" style="display: none">
        <div id="wrapper">
            <section id="mainLock" style="padding: 35px 44px 20px 44px">
                <header>
                    <span class="avatar"><img src="data/photos/brand/brand-square.jpg" alt=""></span>
                    <h1 style="font-size: 32px; color: #948f92; font-family: 'Roboto';">Locked</h1>
                </header>

                <form style="margin: 0">
                    <div class="field">
                        <input type="password" id="lockScreePasscode" maxlength="4" class="lockScreenInput" placeholder="Passcode">
                    </div>
                    <a href="#" onclick="recoveryLogin()" style="text-transform: none; letter-spacing: normal; border-bottom: 1px solid grey; margin-top: 15px;">Got locked out?</a>
                </form>
            </section>
        </div>
    </div> 



    <!-- SERVER CONNECTION FAILURE : SCREEN LOCK -->
    <div id="serverConnectionFailureLock" style="display: none">
        <div id="wrapper">
            <section id="mainLock" style="padding: 35px 44px 20px 44px">
                <header>
                    <span class=""><img src="images/common/server_error.png" alt=""></span>
                    <h1 style="font-size: 28px; color: #c20016; font-family: 'Roboto';">Server Not Connected</h1>
                </header>

                <form style="margin: 0">
                    <p style="color: #777">Please switch on the Server and/or check the connection to it.</p>
                    <a href="#" onclick="testLocalServerConnection(1)" style="text-transform: none; letter-spacing: normal; border-bottom: 1px solid grey; margin-top: 15px;">Retry?</a>
                    <tag style="display: block; font-size: 80%" id="refreshServerCheckCounter">-</tag>
                </form>
            </section>
        </div>
    </div> 



        <div class="wrapper rtl rtl-inv">
        <header class="main-header">
            <a href="#" class="logo" onclick="activateSidebar()">
            <span class="logo-mini"><i class="fa fa-bars"></i></span>
            <span class="logo-lg"><img src="brand/logo_main_bright.png" style="margin-bottom: 3px" height="45px"></span>
            </a>
            <nav class="navbar navbar-static-top" role="navigation">
                <page class="commonPageName">
                    <tag id="renderPageTitle"></tag>
                </page>

                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">

                        <li class="dropdown user user-menu">

                            <a href="#" onclick="selectSessionWindow()" style="font-size: 18px; font-weight: 400;">
                                <i class="fa fa-history"></i>Session: <span id="currentSessionDisplay">Not Set</span>
                            </a>
                        </li>

                        <li style="width: 165px !important; text-align: center" onclick="checkLogin()"><a href="#"><tag id="globalServerConnectionStatus">...</tag></a></li>

                        <li class="noHover"><a href="#" class="noHover" style="padding: 13.5px 30px"><tag id="globalTimeDisplay" style="font-size: 23px; font-weight: 300"></tag></a></li>

                        <li class="noHover" onclick="showSpotlight()"><a href="#" class="noHover" style="padding: 15px 30px; font-size: 18px; "><i class="fa fa-laptop"></i> <tag id="thisSystemName" style="padding-left: 5px;"></tag></a></li>
                        
                        <li class="dropdown user user-menu">
                            <a href="#" onclick="selectStewardWindow()" id="currentUserProfileDisplay" style="font-size: 18px; font-weight: 400;">
                                <img src="images/default_user.png" class="user-image" alt="Avatar" />
                                <span>Profile Not Selected</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <aside class="main-sidebar" style="position: fixed">
            <section class="sidebar">
                <ul class="sidebar-menu">
                    <li onclick="renderPage('new-order', 'Punch Order')">
                        <a href="#">
                          <img src="images/navigation/navigate_punching.png" width="32px">
                          <span class="navSideName">Punch Order</span>
                        </a>
                    </li>
                    <li onclick="renderPage('live-orders', 'Live Orders')">
                        <a href="#">
                          <img src="images/navigation/navigate_live.png" width="32px">
                          <span class="navSideName">Live Orders</span>
                        </a>
                    </li>
                    <li onclick="renderPage('seating-status', 'Seating Status')">
                        <a href="#">
                          <img src="images/navigation/navigate_seating.png" width="32px">
                          <span class="navSideName">Seating Status</span>
                        </a>
                    </li>                  
                    <li onclick="renderPage('online-orders', 'Online Orders')">
                        <a href="#">
                          <img src="images/navigation/navigate_online.png" width="32px">
                          <span class="navSideName">Online Orders</span>
                        </a>
                    </li>

                    <li onclick="renderPage('reward-points', 'Reward Points')">
                        <a href="#">
                          <img src="images/navigation/navigate_rewards.png" width="32px">
                          <span class="navSideName">Reward Points</span>
                        </a>
                    </li>
                    <li onclick="renderPage('settled-bills', 'Generated Bills')">
                        <a href="#">
                          <img src="images/navigation/navigate_bills.png" width="32px">
                          <span class="navSideName">Generated Bills</span>
                        </a>
                    </li>

                     <li id="sidebarTools" class="treeview mm_products" onclick="activateSidebarElement('sidebarTools')">
                        <a href="#">
                          <img src="images/navigation/navigate_tools.png" width="32px">
                          <span class="navSideName">Tools</span>
                        </a>

                        <ul class="treeview-menu">
                            <li onclick="renderPage('manage-menu', 'Manage Menu')">
                                <a href="#"><i class="fa fa-circle-o"></i> Manage Menu</a></li>
                         <li onclick="renderPage('photos-manager', 'Photos Manager')">
                                <a href="#"><i class="fa fa-circle-o"></i> Photos Manager</a></li>

                            <li onclick="renderPage('sales-summary', 'Sales Summary')">
                                <a href="#"><i class="fa fa-circle-o"></i> Sales Summary</a></li>
                            
                        </ul>
                    </li>
                    <li id="sidebarSettings" class="treeview mm_products" onclick="activateSidebarElement('sidebarSettings')">
                        <a href="#">
                          <img src="images/navigation/navigate_settings.png" width="32px">
                          <span class="navSideName">Settings</span>
                        </a>
                        <ul class="treeview-menu">
                            <li onclick="renderPage('app-data', 'App Data')">
                                <a href="#"><i class="fa fa-circle-o"></i> App Data</a></li>

                            <li onclick="renderPage('bill-settings', 'Billing Settings')">
                                <a href="#"><i class="fa fa-circle-o"></i> Billing Settings</a></li>                            
                            <li onclick="renderPage('table-layout', 'Table Layout')">
                                <a href="#"><i class="fa fa-circle-o"></i> Table Layout</a></li>

                            <li onclick="renderPage('system-settings', 'System Settings')">
                                <a href="#"><i class="fa fa-circle-o"></i> System Settings</a></li>


                            <li onclick="renderPage('user-settings', 'Users Settings')">
                                <a href="#"><i class="fa fa-circle-o"></i> Users Settings</a></li>                                
                        </ul>
                    </li>
                </ul>
            </section>

        </aside>

        <div class="content-wrapper">

            <section class="content" id="appRenderArea">

            </section>
        </div>

        <!-- INFO BAR - TOAST -->
        <div id="infobar"></div>  

        <!-- UNDO BAR - TOAST -->
        <div id="undoBar">
            <span id="undoBarText"></span>
            <span id="undoBarButton">
            </span>
        </div>   

        
        <!-- LOGIN MODAL -->
        <div id="loginModalHome" class="modal" style="z-index: 2500 !important">
             <div class="modal-dialog" style="top: 20%; width: 27em !important;">
                <!-- Modal content-->
                <div class="modal-content" style="border-radius: 4px;" id="loginModalHomeContent">

                </div>
             </div>
          </div>


        <!-- STEWARDS MODAL -->
        <div id="stewardModalHome" class="modal">
             <div class="modal-dialog" style="width: 27em !important;">
                <!-- Modal content-->
                <div class="modal-content" style="border-radius: 4px; right: 10px !important; top: 60px !important; position: fixed; width: 420px; max-height: 480px; overflow: scroll; padding: 8px" id="stewardModalHomeContent">
                    
                </div>
             </div>
          </div>


        <!-- SESSION MODAL -->
        <div id="sessionModalHome" class="modal">
             <div class="modal-dialog" style="width: 27em !important;">
                <!-- Modal content-->
                <div class="modal-content" style="border-radius: 4px; right: 10px !important; top: 60px !important; position: fixed; width: 420px; max-height: 480px; overflow: scroll; padding: 8px" id="sessionModalHomeContent">
                    
                </div>
             </div>
          </div>



        <!-- LOGIN MODAL -->
        <div id="generalLoadingModal" class="modal" style="z-index: 2600 !important;">
             <div class="modal-dialog" style="width: 100%">
                <!-- Modal content-->
                <div class="modal-content" style="border-radius: 4px; position: absolute; right: 10px; top: 10px; min-width: 18em !important; background: none">
                   <section id="mainLoading">
                      <header>
                         <span id="loadingIcon"></span>
                         <span class="loadingCounter" id="generalLoaderCount"></span>
                         <span class="blink_me loadingText" id="generalLoaderText">Loading...</span>
                      </header>
                   </section>
                </div>
             </div>
          </div>


    <!-- 

        ** SPOTLIGHT SEARCH **
        
        Core Features enables quick search though,
            1. Tables (Live Status), 
            2. Orders (both Dine and Parcels) against their order numbers, 
            3. Menu Item (to easily find the price and change any details)
    -->

        <div class="ng-spotlight ng-spotlight-overlay" style="display: none;" id="spotlightSearchTool">

           <div class="ng-spotlight-searchbar">
              <div class="ng-spotlight-icon" style="font-size: 17px; color: grey">
                 <i class="fa fa-search"></i>
              </div>
              <input class="ng-spotlight-input" id="spotlightSearchKey" type="text" placeholder="Spotlight Search" onblur="this.focus()">
              <div class="ng-spotlight-input-after" style="color: red">— No Results</div>

              <!-- ngIf: searchTerm.length > 0 -->
              <div class="ng-spotlight-results-icon ng-scope">
                <img src="brand/logo_small.png" width="32px" style="margin-top: -5px;">
              </div>
           </div>

           <!-- If results found -->
           <div class="ng-spotlight-results-panel">
              <div class="ng-spotlight-results-list" id="spotlightResultsRenderArea"> <!-- key down to select a result -->
               
<!--                  <ul class="ng-spotlight-results-category">
                        <div class="ng-spotlight-results-list-header">Tables</div>
                          <li class="ng-spotlight-results-list-item active">
                            <i class="fa fa-home"></i>
                             22 Table
                          </li>
                          <li class="ng-spotlight-results-list-item">
                            <i class="fa fa-home"></i>
                             21 Table
                          </li>
                          <li class="ng-spotlight-results-list-item">
                            <i class="fa fa-home"></i>
                             20 Table
                          </li>
                       
                        <div class="ng-spotlight-results-list-header">Customers</div>
                          <li class="ng-spotlight-results-list-item">
                            <i class="fa fa-user"></i>
                             22nd Main Road, Adyar
                          </li>
                 </ul> -->
 
              </div>
              <div class="ng-spotlight-results-detail">
                 <spotlight-details>
                    <div class="ng-spotlight-results-detail-default" style="padding-top: 55px;" id="spotlightPreview">
                        
                    </div>
                 </spotlight-details>
              </div>
           </div>

        </div>





    <!-- BILLING RELATED MODALS -->

    <!-- Modal -->
      <div id="billPreviewModal" class="modal">
         <div class="modal-dialog" style="top: 10%">
            <div class="modal-header cartTitleRow">
              <h1 style="font-size: 24px; margin: 0; text-align: left;" id="billPreviewContentTitle">Bill Preview</h1>
            </div>
            <!-- Modal content-->
            <div class="modal-content">
               <div class="modal-body" id="billPreviewContent" style="height: 540px; overflow: scroll; padding: 10px 10px 5px 10px">

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-sm-12" id="billPreviewContentActions">

                    </div>
                </div>
               </div>
            </div>
         </div>
      </div>  

    <!-- Modal -->
      <div id="billSettlementDetailsModal" class="modal" style="display: none">
         <div class="modal-dialog" style="top: 10%">
            <div class="modal-header cartTitleRow">
              <h1 style="font-size: 24px; margin: 0; text-align: left;" id="billSettlementPreviewContentTitle">Settle Bill</h1>
            </div>
            <!-- Modal content-->
            <div class="modal-content">
               <div class="modal-body" style="height: 540px; overflow: scroll; padding: 10px 10px 5px 10px">

                <div id="billSettlementDetailsContent">
                </div>

                <div id="billSettlementSplitDetailsContent">
                </div>

            </div>
            <div class="modal-footer" style="padding: 0; border: none;">
                <div class="row" style="margin: 0" id="billSettlementPreviewContentActions">

                </div>
               </div>
            </div>
         </div>
      </div>    



    </div>

    <!-- WARNING: Delete on Production, for Debug Purpose only -->
    <script> if (typeof module === 'object') { window.module = module; module = undefined; } </script>

    <!-- General Libraries -->
    <script src="lib/jquery/jquery.min.js"></script>
    <script src="lib/jquery/jquery-ui.min.js"></script>
    <script src="lib/keyboard/keyboard.js"></script>
    <script src="lib/keyboard/keys-layout.js"></script>
    <script src="lib/pouchdb.min.js"></script>
    <script src="lib/moment.min.js"></script>
    <script src="lib/cropper/cropper.js"></script>
    <script src="lib/Chart.bundle.min.js"></script>
    <script src="lib/mousetrap.min.js"></script>

    <!-- Common Functions : Can be called from any page-->
    <script type="text/javascript" src="js/sound.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="js/communicator.js"></script>

    <!-- All the common functions specific to the overall layout (Sidebar and Top Navigation bar)-->
    <script type="text/javascript" src="js/layout.js"></script>


    <!-- Billing Functions: To be called from Seating Layout, Live Orders, Punch Order, Generated Bills pages -->
    <script type="text/javascript" src="js/billing.js"></script>




    <!-- Functions Specific to the Views - Load them all here -->
    <script type="text/javascript" src="js/controllers/new-order.js"></script>
    <script type="text/javascript" src="js/controllers/live-orders.js"></script>
    <script type="text/javascript" src="js/controllers/online-orders.js"></script>
    <script type="text/javascript" src="js/controllers/settled-bills.js"></script>
    <script type="text/javascript" src="js/controllers/seating-status.js"></script>
    <script type="text/javascript" src="js/controllers/reward-points.js"></script>
    <script type="text/javascript" src="js/controllers/sales-summary.js"></script>
    <script type="text/javascript" src="js/controllers/manage-menu.js"></script>
    <script type="text/javascript" src="js/controllers/photos-manager.js"></script>
    <script type="text/javascript" src="js/controllers/table-layout.js"></script>
    <script type="text/javascript" src="js/controllers/bill-settings.js"></script>
    <script type="text/javascript" src="js/controllers/user-settings.js"></script>
    <script type="text/javascript" src="js/controllers/app-data.js"></script>
    <script type="text/javascript" src="js/controllers/system-settings.js"></script>


    <!-- Navigator routes the pages based on clicks -->
    <script type="text/javascript" src="js/navigator.js"></script>


    <!-- WARNING: Delete on Production, for Debug Purpose only -->
    <script> if (window.module) module = window.module; </script>

</body>

</html>